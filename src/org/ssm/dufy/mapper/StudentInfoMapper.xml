<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.ssm.dufy.dao.StudentInfoMapper" >
  <resultMap id="BaseResultMap" type="org.ssm.dufy.entity.Dormitory">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="roomname" jdbcType="VARCHAR" property="roomname" />
    <result column="type" jdbcType="VARCHAR" property="type" />
    <result column="building" jdbcType="VARCHAR" property="building" />
    <result column="floor" jdbcType="VARCHAR" property="floor" />
    <result column="total" jdbcType="VARCHAR" property="total" />
    <result column="surplus" jdbcType="VARCHAR" property="surplus" />
  </resultMap>
  
  <select id="getCount" parameterType="java.util.Map" resultType="int">
    select  count(*) from dormitory
  </select> 

   <select id="getByPage" parameterType="java.util.Map" resultMap="BaseResultMap">
     SELECT * FROM `dormitory` where 1=1
     <if test="id!=null">
     and id =#{id}
     </if>
     <if test="pageno!=null and pageSize!=null">
     limit #{pageno},#{pageSize}
     </if>
     </select>
     
	  <insert id="addStudent">
	  	insert into dormitory(roomname,type,building,floor,total,surplus)
	  	values(#{roomname},#{type},#{building},#{floor},#{total},#{surplus})
	  </insert>
	  
	  <delete id="dele" >
	  delete from dormitory where id=#{id}
	  </delete>
	  
	  <update id="edit">
	  	update dormitory set roomname=#{roomname},type=#{type},building=#{building},
	  	floor=#{floor},total=#{total} where id=#{id}
	  </update>
     
</mapper>